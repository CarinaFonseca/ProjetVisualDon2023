(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var it={},Z={},J=34,z=10,W=13;function ht(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Lt(t,n){var e=ht(t);return function(i,r){return n(e(i),r,t)}}function ot(t){var n=Object.create(null),e=[];return t.forEach(function(i){for(var r in i)r in n||e.push(n[r]=r)}),e}function E(t,n){var e=t+"",i=e.length;return i<n?new Array(n-i+1).join(0)+e:e}function Ft(t){return t<0?"-"+E(-t,6):t>9999?"+"+E(t,6):E(t,4)}function It(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ft(t.getUTCFullYear())+"-"+E(t.getUTCMonth()+1,2)+"-"+E(t.getUTCDate(),2)+(r?"T"+E(n,2)+":"+E(e,2)+":"+E(i,2)+"."+E(r,3)+"Z":i?"T"+E(n,2)+":"+E(e,2)+":"+E(i,2)+"Z":e||n?"T"+E(n,2)+":"+E(e,2)+"Z":"")}function kt(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function i(p,_){var c,v,h=r(p,function(w,y){if(c)return c(w,y-1);v=w,c=_?Lt(w,_):ht(w)});return h.columns=v||[],h}function r(p,_){var c=[],v=p.length,h=0,w=0,y,g=v<=0,d=!1;p.charCodeAt(v-1)===z&&--v,p.charCodeAt(v-1)===W&&--v;function m(){if(g)return Z;if(d)return d=!1,it;var L,T=h,A;if(p.charCodeAt(T)===J){for(;h++<v&&p.charCodeAt(h)!==J||p.charCodeAt(++h)===J;);return(L=h)>=v?g=!0:(A=p.charCodeAt(h++))===z?d=!0:A===W&&(d=!0,p.charCodeAt(h)===z&&++h),p.slice(T+1,L-1).replace(/""/g,'"')}for(;h<v;){if((A=p.charCodeAt(L=h++))===z)d=!0;else if(A===W)d=!0,p.charCodeAt(h)===z&&++h;else if(A!==e)continue;return p.slice(T,L)}return g=!0,p.slice(T,v)}for(;(y=m())!==Z;){for(var x=[];y!==it&&y!==Z;)x.push(y),y=m();_&&(x=_(x,w++))==null||c.push(x)}return c}function o(p,_){return p.map(function(c){return _.map(function(v){return a(c[v])}).join(t)})}function u(p,_){return _==null&&(_=ot(p)),[_.map(a).join(t)].concat(o(p,_)).join(`
`)}function s(p,_){return _==null&&(_=ot(p)),o(p,_).join(`
`)}function f(p){return p.map(l).join(`
`)}function l(p){return p.map(a).join(t)}function a(p){return p==null?"":p instanceof Date?It(p):n.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p}return{parse:i,parseRows:r,format:u,formatBody:s,formatRows:f,formatRow:l,formatValue:a}}var Dt=kt(","),Rt=Dt.parse;function Ot(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function zt(t,n){return fetch(t,n).then(Ot)}function Pt(t){return function(n,e,i){return arguments.length===2&&typeof e=="function"&&(i=e,e=void 0),zt(n,e).then(function(r){return t(r,i)})}}var Bt=Pt(Rt),G="http://www.w3.org/1999/xhtml";const st={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),st.hasOwnProperty(n)?{space:st[n],local:t}:t}function Ht(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===G&&n.documentElement.namespaceURI===G?n.createElement(t):n.createElementNS(e,t)}}function Ut(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yt(t){var n=pt(t);return(n.local?Ut:Ht)(n)}function $t(){}function _t(t){return t==null?$t:function(){return this.querySelector(t)}}function Vt(t){typeof t!="function"&&(t=_t(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,s=i[r]=new Array(u),f,l,a=0;a<u;++a)(f=o[a])&&(l=t.call(f,f.__data__,a,o))&&("__data__"in f&&(l.__data__=f.__data__),s[a]=l);return new S(i,this._parents)}function qt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Yt(){return[]}function Kt(t){return t==null?Yt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return qt(t.apply(this,arguments))}}function Xt(t){typeof t=="function"?t=Qt(t):t=Kt(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var u=n[o],s=u.length,f,l=0;l<s;++l)(f=u[l])&&(i.push(t.call(f,f.__data__,l,u)),r.push(f));return new S(i,r)}function Zt(t){return function(){return this.matches(t)}}function vt(t){return function(n){return n.matches(t)}}var Jt=Array.prototype.find;function Wt(t){return function(){return Jt.call(this.children,t)}}function Gt(){return this.firstElementChild}function jt(t){return this.select(t==null?Gt:Wt(typeof t=="function"?t:vt(t)))}var tn=Array.prototype.filter;function nn(){return Array.from(this.children)}function en(t){return function(){return tn.call(this.children,t)}}function rn(t){return this.selectAll(t==null?nn:en(typeof t=="function"?t:vt(t)))}function on(t){typeof t!="function"&&(t=Zt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,s=i[r]=[],f,l=0;l<u;++l)(f=o[l])&&t.call(f,f.__data__,l,o)&&s.push(f);return new S(i,this._parents)}function gt(t){return new Array(t.length)}function sn(){return new S(this._enter||this._groups.map(gt),this._parents)}function Y(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Y.prototype={constructor:Y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function un(t){return function(){return t}}function ln(t,n,e,i,r,o){for(var u=0,s,f=n.length,l=o.length;u<l;++u)(s=n[u])?(s.__data__=o[u],i[u]=s):e[u]=new Y(t,o[u]);for(;u<f;++u)(s=n[u])&&(r[u]=s)}function fn(t,n,e,i,r,o,u){var s,f,l=new Map,a=n.length,p=o.length,_=new Array(a),c;for(s=0;s<a;++s)(f=n[s])&&(_[s]=c=u.call(f,f.__data__,s,n)+"",l.has(c)?r[s]=f:l.set(c,f));for(s=0;s<p;++s)c=u.call(t,o[s],s,o)+"",(f=l.get(c))?(i[s]=f,f.__data__=o[s],l.delete(c)):e[s]=new Y(t,o[s]);for(s=0;s<a;++s)(f=n[s])&&l.get(_[s])===f&&(r[s]=f)}function cn(t){return t.__data__}function an(t,n){if(!arguments.length)return Array.from(this,cn);var e=n?fn:ln,i=this._parents,r=this._groups;typeof t!="function"&&(t=un(t));for(var o=r.length,u=new Array(o),s=new Array(o),f=new Array(o),l=0;l<o;++l){var a=i[l],p=r[l],_=p.length,c=hn(t.call(a,a&&a.__data__,l,i)),v=c.length,h=s[l]=new Array(v),w=u[l]=new Array(v),y=f[l]=new Array(_);e(a,p,h,w,y,c,n);for(var g=0,d=0,m,x;g<v;++g)if(m=h[g]){for(g>=d&&(d=g+1);!(x=w[d])&&++d<v;);m._next=x||null}}return u=new S(u,i),u._enter=s,u._exit=f,u}function hn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pn(){return new S(this._exit||this._groups.map(gt),this._parents)}function yn(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function _n(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,u=Math.min(r,o),s=new Array(r),f=0;f<u;++f)for(var l=e[f],a=i[f],p=l.length,_=s[f]=new Array(p),c,v=0;v<p;++v)(c=l[v]||a[v])&&(_[v]=c);for(;f<r;++f)s[f]=e[f];return new S(s,this._parents)}function vn(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],u;--r>=0;)(u=i[r])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function gn(t){t||(t=wn);function n(p,_){return p&&_?t(p.__data__,_.__data__):!p-!_}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var u=e[o],s=u.length,f=r[o]=new Array(s),l,a=0;a<s;++a)(l=u[a])&&(f[a]=l);f.sort(n)}return new S(r,this._parents).order()}function wn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function mn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function dn(){return Array.from(this)}function xn(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var u=i[r];if(u)return u}return null}function An(){let t=0;for(const n of this)++t;return t}function Nn(){return!this.node()}function Cn(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,u=r.length,s;o<u;++o)(s=r[o])&&t.call(s,s.__data__,o,r);return this}function En(t){return function(){this.removeAttribute(t)}}function Mn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bn(t,n){return function(){this.setAttribute(t,n)}}function Sn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Tn(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ln(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Fn(t,n){var e=pt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?Mn:En:typeof n=="function"?e.local?Ln:Tn:e.local?Sn:bn)(e,n))}function wt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function In(t){return function(){this.style.removeProperty(t)}}function kn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Dn(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Rn(t,n,e){return arguments.length>1?this.each((n==null?In:typeof n=="function"?Dn:kn)(t,n,e??"")):On(this.node(),t)}function On(t,n){return t.style.getPropertyValue(n)||wt(t).getComputedStyle(t,null).getPropertyValue(n)}function zn(t){return function(){delete this[t]}}function Pn(t,n){return function(){this[t]=n}}function Bn(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Hn(t,n){return arguments.length>1?this.each((n==null?zn:typeof n=="function"?Bn:Pn)(t,n)):this.node()[t]}function mt(t){return t.trim().split(/^|\s+/)}function nt(t){return t.classList||new dt(t)}function dt(t){this._node=t,this._names=mt(t.getAttribute("class")||"")}dt.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xt(t,n){for(var e=nt(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function At(t,n){for(var e=nt(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Un(t){return function(){xt(this,t)}}function $n(t){return function(){At(this,t)}}function Vn(t,n){return function(){(n.apply(this,arguments)?xt:At)(this,t)}}function qn(t,n){var e=mt(t+"");if(arguments.length<2){for(var i=nt(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Vn:n?Un:$n)(e,n))}function Yn(){this.textContent=""}function Kn(t){return function(){this.textContent=t}}function Qn(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Xn(t){return arguments.length?this.each(t==null?Yn:(typeof t=="function"?Qn:Kn)(t)):this.node().textContent}function Zn(){this.innerHTML=""}function Jn(t){return function(){this.innerHTML=t}}function Wn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Gn(t){return arguments.length?this.each(t==null?Zn:(typeof t=="function"?Wn:Jn)(t)):this.node().innerHTML}function jn(){this.nextSibling&&this.parentNode.appendChild(this)}function te(){return this.each(jn)}function ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ee(){return this.each(ne)}function re(t){var n=typeof t=="function"?t:yt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ie(){return null}function oe(t,n){var e=typeof t=="function"?t:yt(t),i=n==null?ie:typeof n=="function"?n:_t(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function se(){var t=this.parentNode;t&&t.removeChild(this)}function ue(){return this.each(se)}function le(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function fe(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ce(t){return this.select(t?fe:le)}function ae(t){return arguments.length?this.property("__data__",t):this.node().__data__}function he(t){return function(n){t.call(this,n,this.__data__)}}function pe(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function ye(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function _e(t,n,e){return function(){var i=this.__on,r,o=he(n);if(i){for(var u=0,s=i.length;u<s;++u)if((r=i[u]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ve(t,n,e){var i=pe(t+""),r,o=i.length,u;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,l=s.length,a;f<l;++f)for(r=0,a=s[f];r<o;++r)if((u=i[r]).type===a.type&&u.name===a.name)return a.value}return}for(s=n?_e:ye,r=0;r<o;++r)this.each(s(i[r],n,e));return this}function Nt(t,n,e){var i=wt(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function ge(t,n){return function(){return Nt(this,t,n)}}function we(t,n){return function(){return Nt(this,t,n.apply(this,arguments))}}function me(t,n){return this.each((typeof n=="function"?we:ge)(t,n))}function*de(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,u;r<o;++r)(u=i[r])&&(yield u)}var xe=[null];function S(t,n){this._groups=t,this._parents=n}function Ae(){return this}S.prototype={constructor:S,select:Vt,selectAll:Xt,selectChild:jt,selectChildren:rn,filter:on,data:an,enter:sn,exit:pn,join:yn,merge:_n,selection:Ae,order:vn,sort:gn,call:mn,nodes:dn,node:xn,size:An,empty:Nn,each:Cn,attr:Fn,style:Rn,property:Hn,classed:qn,text:Xn,html:Gn,raise:te,lower:ee,append:re,insert:oe,remove:ue,clone:ce,datum:ae,on:ve,dispatch:me,[Symbol.iterator]:de};function P(t){return typeof t=="string"?new S([[document.querySelector(t)]],[document.documentElement]):new S([[t]],xe)}var Ne=0;function ut(){this._="@"+(++Ne).toString(36)}ut.prototype={constructor:ut,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Ce(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ct(this.cover(n,e),n,e,t)}function Ct(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var r,o=t._root,u={data:i},s=t._x0,f=t._y0,l=t._x1,a=t._y1,p,_,c,v,h,w,y,g;if(!o)return t._root=u,t;for(;o.length;)if((h=n>=(p=(s+l)/2))?s=p:l=p,(w=e>=(_=(f+a)/2))?f=_:a=_,r=o,!(o=o[y=w<<1|h]))return r[y]=u,t;if(c=+t._x.call(null,o.data),v=+t._y.call(null,o.data),n===c&&e===v)return u.next=o,r?r[y]=u:t._root=u,t;do r=r?r[y]=new Array(4):t._root=new Array(4),(h=n>=(p=(s+l)/2))?s=p:l=p,(w=e>=(_=(f+a)/2))?f=_:a=_;while((y=w<<1|h)===(g=(v>=_)<<1|c>=p));return r[g]=o,r[y]=u,t}function Ee(t){var n,e,i=t.length,r,o,u=new Array(i),s=new Array(i),f=1/0,l=1/0,a=-1/0,p=-1/0;for(e=0;e<i;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(u[e]=r,s[e]=o,r<f&&(f=r),r>a&&(a=r),o<l&&(l=o),o>p&&(p=o));if(f>a||l>p)return this;for(this.cover(f,l).cover(a,p),e=0;e<i;++e)Ct(this,u[e],s[e],t[e]);return this}function Me(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,o=(i=Math.floor(n))+1;else{for(var u=r-e||1,s=this._root,f,l;e>t||t>=r||i>n||n>=o;)switch(l=(n<i)<<1|t<e,f=new Array(4),f[l]=s,s=f,u*=2,l){case 0:r=e+u,o=i+u;break;case 1:e=r-u,o=i+u;break;case 2:r=e+u,i=o-u;break;case 3:e=r-u,i=o-u;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=i,this._x1=r,this._y1=o,this}function be(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Se(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function N(t,n,e,i,r){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=r}function Te(t,n,e){var i,r=this._x0,o=this._y0,u,s,f,l,a=this._x1,p=this._y1,_=[],c=this._root,v,h;for(c&&_.push(new N(c,r,o,a,p)),e==null?e=1/0:(r=t-e,o=n-e,a=t+e,p=n+e,e*=e);v=_.pop();)if(!(!(c=v.node)||(u=v.x0)>a||(s=v.y0)>p||(f=v.x1)<r||(l=v.y1)<o))if(c.length){var w=(u+f)/2,y=(s+l)/2;_.push(new N(c[3],w,y,f,l),new N(c[2],u,y,w,l),new N(c[1],w,s,f,y),new N(c[0],u,s,w,y)),(h=(n>=y)<<1|t>=w)&&(v=_[_.length-1],_[_.length-1]=_[_.length-1-h],_[_.length-1-h]=v)}else{var g=t-+this._x.call(null,c.data),d=n-+this._y.call(null,c.data),m=g*g+d*d;if(m<e){var x=Math.sqrt(e=m);r=t-x,o=n-x,a=t+x,p=n+x,i=c.data}}return i}function Le(t){if(isNaN(a=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var n,e=this._root,i,r,o,u=this._x0,s=this._y0,f=this._x1,l=this._y1,a,p,_,c,v,h,w,y;if(!e)return this;if(e.length)for(;;){if((v=a>=(_=(u+f)/2))?u=_:f=_,(h=p>=(c=(s+l)/2))?s=c:l=c,n=e,!(e=e[w=h<<1|v]))return this;if(!e.length)break;(n[w+1&3]||n[w+2&3]||n[w+3&3])&&(i=n,y=w)}for(;e.data!==t;)if(r=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,r?(o?r.next=o:delete r.next,this):n?(o?n[w]=o:delete n[w],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(i?i[y]=e:this._root=e),this):(this._root=o,this)}function Fe(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Ie(){return this._root}function ke(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function De(t){var n=[],e,i=this._root,r,o,u,s,f;for(i&&n.push(new N(i,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(i=e.node,o=e.x0,u=e.y0,s=e.x1,f=e.y1)&&i.length){var l=(o+s)/2,a=(u+f)/2;(r=i[3])&&n.push(new N(r,l,a,s,f)),(r=i[2])&&n.push(new N(r,o,a,l,f)),(r=i[1])&&n.push(new N(r,l,u,s,a)),(r=i[0])&&n.push(new N(r,o,u,l,a))}return this}function Re(t){var n=[],e=[],i;for(this._root&&n.push(new N(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var r=i.node;if(r.length){var o,u=i.x0,s=i.y0,f=i.x1,l=i.y1,a=(u+f)/2,p=(s+l)/2;(o=r[0])&&n.push(new N(o,u,s,a,p)),(o=r[1])&&n.push(new N(o,a,s,f,p)),(o=r[2])&&n.push(new N(o,u,p,a,l)),(o=r[3])&&n.push(new N(o,a,p,f,l))}e.push(i)}for(;i=e.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Oe(t){return t[0]}function ze(t){return arguments.length?(this._x=t,this):this._x}function Pe(t){return t[1]}function Be(t){return arguments.length?(this._y=t,this):this._y}function et(t,n,e){var i=new rt(n??Oe,e??Pe,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function rt(t,n,e,i,r,o){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function lt(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var C=et.prototype=rt.prototype;C.copy=function(){var t=new rt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,i;if(!n)return t;if(!n.length)return t._root=lt(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var r=0;r<4;++r)(i=n.source[r])&&(i.length?e.push({source:i,target:n.target[r]=new Array(4)}):n.target[r]=lt(i));return t};C.add=Ce;C.addAll=Ee;C.cover=Me;C.data=be;C.extent=Se;C.find=Te;C.remove=Le;C.removeAll=Fe;C.root=Ie;C.size=ke;C.visit=De;C.visitAfter=Re;C.x=ze;C.y=Be;function b(t){return function(){return t}}function R(t){return(t()-.5)*1e-6}function He(t){return t.x+t.vx}function Ue(t){return t.y+t.vy}function $e(t){var n,e,i,r=1,o=1;typeof t!="function"&&(t=b(t==null?1:+t));function u(){for(var l,a=n.length,p,_,c,v,h,w,y=0;y<o;++y)for(p=et(n,He,Ue).visitAfter(s),l=0;l<a;++l)_=n[l],h=e[_.index],w=h*h,c=_.x+_.vx,v=_.y+_.vy,p.visit(g);function g(d,m,x,L,T){var A=d.data,V=d.r,M=h+V;if(A){if(A.index>_.index){var I=c-A.x-A.vx,k=v-A.y-A.vy,F=I*I+k*k;F<M*M&&(I===0&&(I=R(i),F+=I*I),k===0&&(k=R(i),F+=k*k),F=(M-(F=Math.sqrt(F)))/F*r,_.vx+=(I*=F)*(M=(V*=V)/(w+V)),_.vy+=(k*=F)*M,A.vx-=I*(M=1-M),A.vy-=k*M)}return}return m>c+M||L<c-M||x>v+M||T<v-M}}function s(l){if(l.data)return l.r=e[l.data.index];for(var a=l.r=0;a<4;++a)l[a]&&l[a].r>l.r&&(l.r=l[a].r)}function f(){if(n){var l,a=n.length,p;for(e=new Array(a),l=0;l<a;++l)p=n[l],e[p.index]=+t(p,l,n)}}return u.initialize=function(l,a){n=l,i=a,f()},u.iterations=function(l){return arguments.length?(o=+l,u):o},u.strength=function(l){return arguments.length?(r=+l,u):r},u.radius=function(l){return arguments.length?(t=typeof l=="function"?l:b(+l),f(),u):t},u}var Ve={value:()=>{}};function Et(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new q(e)}function q(t){this._=t}function qe(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}q.prototype=Et.prototype={constructor:q,on:function(t,n){var e=this._,i=qe(t+"",e),r,o=-1,u=i.length;if(arguments.length<2){for(;++o<u;)if((r=(t=i[o]).type)&&(r=Ye(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=i[o]).type)e[r]=ft(e[r],t.name,n);else if(n==null)for(r in e)e[r]=ft(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new q(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Ye(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function ft(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Ve,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var O=0,H=0,B=0,Mt=1e3,K,U,Q=0,D=0,X=0,$=typeof performance=="object"&&performance.now?performance:Date,bt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function St(){return D||(bt(Ke),D=$.now()+X)}function Ke(){D=0}function j(){this._call=this._time=this._next=null}j.prototype=Tt.prototype={constructor:j,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?St():+e)+(n==null?0:+n),!this._next&&U!==this&&(U?U._next=this:K=this,U=this),this._call=t,this._time=e,tt()},stop:function(){this._call&&(this._call=null,this._time=1/0,tt())}};function Tt(t,n,e){var i=new j;return i.restart(t,n,e),i}function Qe(){St(),++O;for(var t=K,n;t;)(n=D-t._time)>=0&&t._call.call(void 0,n),t=t._next;--O}function ct(){D=(Q=$.now())+X,O=H=0;try{Qe()}finally{O=0,Ze(),D=0}}function Xe(){var t=$.now(),n=t-Q;n>Mt&&(X-=n,Q=t)}function Ze(){for(var t,n=K,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:K=e);U=t,tt(i)}function tt(t){if(!O){H&&(H=clearTimeout(H));var n=t-D;n>24?(t<1/0&&(H=setTimeout(ct,t-$.now()-X)),B&&(B=clearInterval(B))):(B||(Q=$.now(),B=setInterval(Xe,Mt)),O=1,bt(ct))}}const Je=1664525,We=1013904223,at=4294967296;function Ge(){let t=1;return()=>(t=(Je*t+We)%at)/at}function je(t){return t.x}function tr(t){return t.y}var nr=10,er=Math.PI*(3-Math.sqrt(5));function rr(t){var n,e=1,i=.001,r=1-Math.pow(i,1/300),o=0,u=.6,s=new Map,f=Tt(p),l=Et("tick","end"),a=Ge();t==null&&(t=[]);function p(){_(),l.call("tick",n),e<i&&(f.stop(),l.call("end",n))}function _(h){var w,y=t.length,g;h===void 0&&(h=1);for(var d=0;d<h;++d)for(e+=(o-e)*r,s.forEach(function(m){m(e)}),w=0;w<y;++w)g=t[w],g.fx==null?g.x+=g.vx*=u:(g.x=g.fx,g.vx=0),g.fy==null?g.y+=g.vy*=u:(g.y=g.fy,g.vy=0);return n}function c(){for(var h=0,w=t.length,y;h<w;++h){if(y=t[h],y.index=h,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var g=nr*Math.sqrt(.5+h),d=h*er;y.x=g*Math.cos(d),y.y=g*Math.sin(d)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function v(h){return h.initialize&&h.initialize(t,a),h}return c(),n={tick:_,restart:function(){return f.restart(p),n},stop:function(){return f.stop(),n},nodes:function(h){return arguments.length?(t=h,c(),s.forEach(v),n):t},alpha:function(h){return arguments.length?(e=+h,n):e},alphaMin:function(h){return arguments.length?(i=+h,n):i},alphaDecay:function(h){return arguments.length?(r=+h,n):+r},alphaTarget:function(h){return arguments.length?(o=+h,n):o},velocityDecay:function(h){return arguments.length?(u=1-h,n):1-u},randomSource:function(h){return arguments.length?(a=h,s.forEach(v),n):a},force:function(h,w){return arguments.length>1?(w==null?s.delete(h):s.set(h,v(w)),n):s.get(h)},find:function(h,w,y){var g=0,d=t.length,m,x,L,T,A;for(y==null?y=1/0:y*=y,g=0;g<d;++g)T=t[g],m=h-T.x,x=w-T.y,L=m*m+x*x,L<y&&(A=T,y=L);return A},on:function(h,w){return arguments.length>1?(l.on(h,w),n):l.on(h)}}}function ir(){var t,n,e,i,r=b(-30),o,u=1,s=1/0,f=.81;function l(c){var v,h=t.length,w=et(t,je,tr).visitAfter(p);for(i=c,v=0;v<h;++v)n=t[v],w.visit(_)}function a(){if(t){var c,v=t.length,h;for(o=new Array(v),c=0;c<v;++c)h=t[c],o[h.index]=+r(h,c,t)}}function p(c){var v=0,h,w,y=0,g,d,m;if(c.length){for(g=d=m=0;m<4;++m)(h=c[m])&&(w=Math.abs(h.value))&&(v+=h.value,y+=w,g+=w*h.x,d+=w*h.y);c.x=g/y,c.y=d/y}else{h=c,h.x=h.data.x,h.y=h.data.y;do v+=o[h.data.index];while(h=h.next)}c.value=v}function _(c,v,h,w){if(!c.value)return!0;var y=c.x-n.x,g=c.y-n.y,d=w-v,m=y*y+g*g;if(d*d/f<m)return m<s&&(y===0&&(y=R(e),m+=y*y),g===0&&(g=R(e),m+=g*g),m<u&&(m=Math.sqrt(u*m)),n.vx+=y*c.value*i/m,n.vy+=g*c.value*i/m),!0;if(c.length||m>=s)return;(c.data!==n||c.next)&&(y===0&&(y=R(e),m+=y*y),g===0&&(g=R(e),m+=g*g),m<u&&(m=Math.sqrt(u*m)));do c.data!==n&&(d=o[c.data.index]*i/m,n.vx+=y*d,n.vy+=g*d);while(c=c.next)}return l.initialize=function(c,v){t=c,e=v,a()},l.strength=function(c){return arguments.length?(r=typeof c=="function"?c:b(+c),a(),l):r},l.distanceMin=function(c){return arguments.length?(u=c*c,l):Math.sqrt(u)},l.distanceMax=function(c){return arguments.length?(s=c*c,l):Math.sqrt(s)},l.theta=function(c){return arguments.length?(f=c*c,l):Math.sqrt(f)},l}function or(t){var n=b(.1),e,i,r;typeof t!="function"&&(t=b(t==null?0:+t));function o(s){for(var f=0,l=e.length,a;f<l;++f)a=e[f],a.vx+=(r[f]-a.x)*i[f]*s}function u(){if(e){var s,f=e.length;for(i=new Array(f),r=new Array(f),s=0;s<f;++s)i[s]=isNaN(r[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return o.initialize=function(s){e=s,u()},o.strength=function(s){return arguments.length?(n=typeof s=="function"?s:b(+s),u(),o):n},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:b(+s),u(),o):t},o}function sr(t){var n=b(.1),e,i,r;typeof t!="function"&&(t=b(t==null?0:+t));function o(s){for(var f=0,l=e.length,a;f<l;++f)a=e[f],a.vy+=(r[f]-a.y)*i[f]*s}function u(){if(e){var s,f=e.length;for(i=new Array(f),r=new Array(f),s=0;s<f;++s)i[s]=isNaN(r[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return o.initialize=function(s){e=s,u()},o.strength=function(s){return arguments.length?(n=typeof s=="function"?s:b(+s),u(),o):n},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:b(+s),u(),o):t},o}Bt("rachelwineratings.csv").then(function(t){var n=800,e=1e3,i=t,r=null;document.querySelectorAll("button").forEach(function(f){f.addEventListener("click",function(l){r=f.id;const a=document.querySelector("#titre"),p=document.querySelector("#text"),_=document.querySelector("#accroche");switch(_.innerHTML="Les vins notés",p.innerHTML='étoiles <br><span style="font-size:25px;">par Rachel</span>',r){case"1":i=t.filter(c=>c.rating==="1"),a.innerHTML='<span style="font-size: 80px;">1</span>';break;case"2":i=t.filter(c=>c.rating==="2"),a.innerHTML='<span style="font-size: 80px;">2</span>';break;case"3":i=t.filter(c=>c.rating==="3"),a.innerHTML='<span style="font-size: 80px;">3</span>';break;case"4":i=t.filter(c=>c.rating==="4"),a.innerHTML='<span style="font-size: 80px;">4</span>';break;case"5":i=t.filter(c=>c.rating==="5"),a.innerHTML='<span style="font-size: 80px;">5</span>';break;case"tous":i=t,a.innerHTML="658<br>vins",_.innerHTML="Entre 2018 et<br>2019, c'est...",p.innerHTML="goûté<br>et<br>noté";break}})});var o={red:e*.3,white:e*.6,rose:e*.7,sparkling:e*.8,dessert:e*.8,orange:e*.8,"":e*.8},u=rr(i).force("charge",ir().strength(5)).force("x",or(n/2).strength(.05)).force("y",function(f){return sr(o[f.style]).strength(.05)}).force("collide",$e().radius(10)).on("tick",s);function s(){P("svg").selectAll("circle").data(i).join("circle").attr("r",function(){return 10}).attr("cx",function(f){return f.x}).attr("cy",function(f){return f.y}).attr("fill",function(f){return f.style==="red"?"#A52A2A":f.style==="white"?"#F0E68C	":f.style==="rose"?"#FFB6C1":"#DCDCDC"}).on("mouseover",function(f){ur(f.srcElement.__data__),P("#fiche").attr("style","visibility: visible;"),P(this).attr("fill","#8B008B").attr("r",15).on("mouseleave",function(){P(this).attr("fill",function(l){return l.style==="red"?"#A52A2A":l.style==="white"?"#F0E68C	":l.style==="rose"?"#FFB6C1":"#DCDCDC"}).attr("r",10),P("#fiche").attr("style","visibility: hidden;")})})}window.addEventListener("scroll",function(f){i.forEach(function(l){window.scrollY>1?l.y=o[l.style]+window.scrollY*.1:l.y=e/2}),u.alpha(.1).restart()})}).catch(function(t){console.log(t)});function ur(t){console.log(t);const n=document.querySelector("#fiche>h3"),e=document.querySelector("#etoile"),i=document.querySelector("#fiche>p");n.textContent=t.wine_name,e.textContent=`${t.rating} étoiles`,i.textContent=`Rachel l'a goûté en ${t.month} ${t.year}.
            Il s'agit d'un vin "${t.style?t.style:"**"}" de ${t.region}.
            Il est vendu à ${t.estimated_price?t.estimated_price:"**"} $`}
